
services:
  geode:
    image: veaseback:latest
    ports:
      - "5000"
    volumes:
      - ./data:/data
    networks:
      - custom_network

  viewer:
    image: veaseviewer:latest
    ports:
      - "1234"
    networks:
      - custom_network
    volumes:
      - ./data:/data
  
  router:
    image: opengeodewebrouter:latest
    ports:
      - "99:99"
    volumes:
      - ./data:/data
    restart: on-failure
    depends_on:
      - geode
      - viewer
    networks:
      - custom_network


volumes:
  data:
    driver: local
networks:
  custom_network:
    driver: bridge